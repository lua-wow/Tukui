<Ui xmlns="http://www.blizzard.com/wow/ui/">
	<Button name="AurasTemplate" inherits="SecureActionButtonTemplate" virtual="true" registerForClicks="RightButtonUp, RightButtonDown">
		<Size x="30" y="30"/>

		<Attributes>
			<Attribute name="type2" value="cancelaura"/>
		</Attributes>

		<Scripts>
			<OnLoad>
				local T = unpack(Tukui)
				local Auras = T["Auras"]

				Auras.Skin(self)
				
				-- Don't call RegisterForClicks here - it's set in the XML template
				-- This was causing taint when called during combat
			</OnLoad>

			<OnEnter>
				local GameTooltip = GameTooltip

				GameTooltip:SetOwner(self, "ANCHOR_BOTTOMLEFT", -5, -5)

				if (self:GetAttribute("index")) then
					GameTooltip:SetUnitAura(SecureButton_GetUnit(self:GetParent()), self:GetID(), self.Filter)
				elseif (self:GetAttribute("target-slot")) then
					GameTooltip:SetInventoryItem("player", self:GetID())
				end
			</OnEnter>

			<OnLeave function="GameTooltip_Hide" />
		</Scripts>
	</Button>

	<Frame name="AurasProxyTemplate" inherits="SecureUnitButtonTemplate, SecureHandlerEnterLeaveTemplate" virtual="true">
		<Size x="30" y="30"/>

		<Scripts>
			<OnLoad>
				local T = unpack(Tukui)
				local Auras = T["Auras"]

				Auras.Skin(self)
			</OnLoad>
		</Scripts>
	</Frame>
</Ui>